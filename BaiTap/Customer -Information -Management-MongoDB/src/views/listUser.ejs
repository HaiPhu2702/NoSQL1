<!doctype html>
<html lang="en">
<head>
    <title>listUser</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script type="text/javascript">

        const update = (id) => {

            window.open('http://localhost:8080/user/update/' + id);

        };

        const deleteBook = async (id) => {

            await $.ajax({

                url: `http://localhost:8080/user/delete/${id}`,

                type: "GET",

                dataType: "json",

                contentType: "application/json",

                success: function (result) {

                },

                error: function (xhr, ajaxOptions, thrownError) {

                    console.log(xhr.status);

                    console.log(thrownError);

                }

            });

            location.reload();

        };

    </script>
</head>
<body>

<% listUser.forEach((user, index)=>{ %>

<h1>Name :<%= user.name %>
    %>
</h1>
<h2>Code :<%= user.code %>
    %>
</h2>
<h3>email :<%= user.email %> </h3>
<h4>phone :<%= user.phone %>
    %>
</h4>
<button onclick="update('<%= user.id %>')">Update</button>
<button onclick="deleteBook('<%= user.id %>')">Delete</button>


<% }) %>

</body>
</html>

